<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nishika ğŸ’– Valentine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff6b81">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}

body{
  height:100vh;
  background:linear-gradient(135deg,#ff9a9e,#fbc2eb,#fad0c4);
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
}

/* Hearts */
.heart{
  position:absolute;
  bottom:-20px;
  animation:float 6s linear infinite;
}
@keyframes float{
  to{transform:translateY(-110vh);opacity:0;}
}

/* Fireworks canvas */
canvas{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:5;
}

.card{
  background:rgba(255,255,255,0.18);
  backdrop-filter:blur(10px);
  padding:35px 25px;
  border-radius:22px;
  text-align:center;
  width:90%;
  max-width:380px;
  z-index:10;
  box-shadow:0 0 30px rgba(255,105,180,0.4);
}

.name{
  font-size:30px;
  font-weight:bold;
  animation:glow 2s infinite alternate,bounce 2s infinite;
}

@keyframes glow{
  to{text-shadow:0 0 25px #ff69b4;}
}
@keyframes bounce{
  50%{transform:translateY(-8px);}
}

h1{font-size:22px;margin:20px 0;}

button{
  padding:12px 26px;
  margin:8px;
  border:none;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
  transition:.3s;
}
button:hover{transform:scale(1.1);}

.yes{background:#ff6b81;color:white;}
.no{background:#576574;color:white;}
.back{background:#54a0ff;color:white;}
.share{background:#ffeaa7;color:black;}

</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<!-- Sounds -->
<audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3"></audio>
<audio id="yesSound" src="https://www.soundjay.com/human/sounds/applause-01.mp3"></audio>
<audio id="bgMusic" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-love.mp3">
</audio>

<div class="card" id="main">
  <div class="name">Nishika ğŸ’–</div>
  <h1>Will you be my Valentine? ğŸ’˜</h1>
  <button class="yes" onclick="yes()">Yes â¤ï¸</button>
  <button class="no" onclick="no()">No ğŸ˜</button>
</div>

<div class="card" id="noPage" style="display:none;">
  <div class="name">Nishika ğŸ’–</div>
  <h1>Fir se soch lo ğŸ˜ŒğŸ’­</h1>
  <button class="back" onclick="back()">Back ğŸ”™</button>
  <button class="no" onclick="no()">No ğŸ™„</button>
</div>

<div class="card" id="yesPage" style="display:none;">
  <div class="name">Nishika ğŸ’–</div>
  <h1>Yayyy! ğŸ’•ğŸ¥°<br>Youâ€™re my Valentine â¤ï¸</h1>
  <button class="share" onclick="share()">Share ğŸ’Œ</button>
</div>

<script>
let musicStarted=false;

function startMusic(){
  if(!musicStarted){
    bgMusic.play();
    musicStarted=true;
  }
}

function no(){
  startMusic(); clickSound.play();
  main.style.display="none";
  yesPage.style.display="none";
  noPage.style.display="block";
}

function back(){
  clickSound.play();
  noPage.style.display="none";
  main.style.display="block";
}

function yes(){
  startMusic(); yesSound.play();
  main.style.display="none";
  noPage.style.display="none";
  yesPage.style.display="block";
  startFireworks();   // ğŸ† FIREWORKS HERE
}

function share(){
  const text="Nishika ğŸ’– Will you be my Valentine? ğŸ˜";
  navigator.share
    ? navigator.share({title:"Valentine ğŸ’˜",text,url:location.href})
    : alert(location.href);
}

/* Hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(14+Math.random()*24)+"px";
  h.style.animationDuration=(4+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
},300);

/* Fireworks ğŸ† */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

function startFireworks(){
  for(let i=0;i<80;i++){
    setTimeout(()=>boom(),i*50);
  }
}

function boom(){
  const x=Math.random()*canvas.width;
  const y=Math.random()*canvas.height/2;
  for(let i=0;i<30;i++){
    ctx.fillStyle=`hsl(${Math.random()*360},100%,60%)`;
    ctx.beginPath();
    ctx.arc(x+Math.random()*80-40,y+Math.random()*80-40,2,0,Math.PI*2);
    ctx.fill();
  }
  setTimeout(()=>ctx.clearRect(0,0,canvas.width,canvas.height),600);
}

/* Service Worker */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
